<!DOCTYPE html>
<html>
    <head>
        <!-- meta tags -->
        <meta charset="UTF-8"/>
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <!-- external links -->
        <script type="text/javascript" src="resources/js/phaser.min.js"></script>

        <!-- page config -->
        <title>AutoSnake</title>
    </head>
    <body>
        <script>

		var snake_head = null;
    	var snake_body = [];
    	var snake_length = 0;
    	var snake_timer = 0;
    	var snake_direction = 0; // l0 u1 r2 d3
    	var snake_size = 32;

          ///////////////////
         // Create Levels //
        ///////////////////
        // Main level
        class Level1 extends Phaser.State {

            // ===== Phaser Functions ===== //
            // First call for constructor.
            constructor(game){
              	super(game); 
            }

            // Configuration goes here. This is called first after construction.
            preload() {
            	game.load.image("tile", "resources/sprites/tile.png");
            }
              
            // Put things to be regularly initialized once here. 
            create() {
            	game.physics.startSystem(Phaser.Physics.ARCADE);
            	snake_head = game.add.sprite(80, 0, 'tile');
            	game.physics.arcade.enable(head);
              	this.init(); // Should be called last.
            }
              
            // Called once per loop.
            update() {
            	snake_timer += new Date().getMilliseconds();
            	if(snake_timer > 1000) {
            		switch(snake_direction) {
            			case 0: snake_head.x += snake_size;
            			case 1: snake_head.y -= snake_size;
            			case 2: snake_head.x -= snake_size;
            			case 3: snake_head.y += snake_size;
            		}
            	}

              	this.draw(); // Should be called last.
            }

            // ===== Recommended Functions ===== //
            // Initialization (and by extention re-initialization or restart code here.)
            init() {
            	var snake_head = null;
		    	var snake_body = [];
		    	var snake_length = 0;
		    	var snake_timer = 0;
		    	var snake_direction = 0;
            }
            
            // Draw code here!
            draw() {
            }
        }

          //////////////////
         // Phaser Setup //
        //////////////////
        // Get game object and add levels. Note: This must come last.
        var game = new Phaser.Game(800, 600, Phaser.AUTO, '');  // Initialize the phaser window
        game.state.add('level_main', new Level1(game));         // Add your levels like this.
        game.state.start('level_main');                         // Dictates starting "Level".

        </script>
    </body>
</html>