<!DOCTYPE html>
<html>
	<head>
		<!-- Meta -->
		<meta charset="UTF-8"/>
		<meta name="viewport" content="width=device-width, initial-scale=1">
		
		<!-- Links -->
		<link href="https://fonts.googleapis.com/css?family=Open+Sans|Spectral" rel="stylesheet">
		<link rel="icon" href="resources/assets/favicon.png"/>
		
		<!-- Info -->
		<title>Small Scratch Homepage</title>
	</head>
	<style>
		body {
			background-color: #FFFFFF;
			background-image: url("/resources/assets/pw_maze_white.png");
			font-family: 'Open Sans', sans-serif;
		}
		
		h2 {
			margin: 10px;
			font-family: 'Spectral', serif;
			font-size: 150%;
		}

		p {
			margin-left: 20px;
			line-height: 120%;
		}
		
		.spacer {
			margin: 10px;
		}

		.wrapper {
			max-width: 400px;
			margin: 0 auto;
			color: #222222;
		}
		
		.center-column {
			text-align: center;
		}
	</style>
	<body>
		<!-- Immediate redirect for 'anchors as args' setup -->
		<script>
			// Called once all the rest of the JS is set up
			function main() {
				const loc = ("" + window.location);
				const extensionsToClean = [".jpg", "jpeg", ".png", ".webp", ".gif", ".apng"];
				const delimiter = "#";

				if(loc.includes(delimiter)) {
					const parsed = loc.split(delimiter)[1];
					let target = decodeURIComponent(parsed);

					// Clean off any extensions - but don't double-clean the same extension if present. 
					extensionsToClean.forEach((extension) => {
						target = removeExtension(target, extension);
					})

					// Handle http/s prefix if not present
					if(target.includes("://")) {
						window.location = target;	
					} else {
						window.location = `http://${target}`;
					}
				}
			}
			
			// If the extension specified is present, remove it and return string 
			// without it. Otherwise, return the original string with no modifications.
			function removeExtension(toClean, extension) {
				if(thing.endsWith(extension)) {
					return toClean.substring(0, toClean.length - extension.length);
				}
				
				return toClean;
			}
			
			
			// Run main after everything, but note the window may not be fully loaded yet since we're
			// at the top of the body and not the end.
			main();
		</script>

		
		<!-- Visuals -->
		<div class="wrapper">
			<div class="center-column">
				<div class="spacer"></div>
				<hr/>
				<h2>Experiments</h2>
				<p>
					<a href="projects/phaser-particles-weh">Weh Simulator</a><br/>
					<a href="projects/canvas-audioflame">AudioFlame</a><br/>
					<a href="projects/phaser-autosnake">Auto-Snake</a><br/>
					<!--<a href="projects/phaser-flappy-life">Life Simulator</a><br/>-->
					<a href="projects/phaser-stick-game">Black and White</a><br/>
					<a href="projects/phaser-line">Line Golf</a><br/>
					<a href="projects/phaser-hills-01">Overgrown Hillside v0.2</a><br>
					<a href="projects/phaser-tilemap">PNG to Tilemap</a><br/>
						<br/>themes<br/>
					<a href="projects/html-seaside">Seaside Theme</a><br>
						<br/>boilerplate<br/>
					<a href="projects/phaser-boilerplate">Blank Boilerplate</a><br/>
				</p>
					
				<h2>Tools</h2>
				<p>
					<a href="projects/html-power-cost">Power Cost Calculator</a><br/>
					<a href="projects/canvas-worldgen-01">2D Worldgen</a><br/>
				</p>
				
				<h2>Other stuff</h2>
				<p>
					<a href="https://loam.net">Creator Support</a><br/>
					<a href="https://www.asciiplayer.com">ASCIIPlayer</a><br/>
					<a href="https://www.bittorio.com">Bittorio</a>
				</p>
				
				<br/>
				<hr/>
				<div class="spacer">
					<script type='text/javascript' src='https://ko-fi.com/widgets/widget_2.js'></script><script type='text/javascript'>kofiwidget2.init('Donate Coffee!', '#468eb8', 'C0C6Q93V');kofiwidget2.draw();</script> 
				</div>
			</div>
		</div>
	</body>
</html>
